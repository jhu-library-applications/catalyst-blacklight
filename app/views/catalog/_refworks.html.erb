<%# overriden from blacklight-marc app/views/bookmarks/_refworks.html.erb
    20 May 2014
    blacklight 5.4.0
    blacklight-marc 5.0.0

    03 February 2021 In Blacklight 7.11 you can't simply override the _refworks template, you have to
    specify it in the config found in catalog_controller

    Overridden solely for the purpose of changing `target` of refworks hyperlink
    to make open in new tab. 

    According to refworks docs http://www.refworks.com/directexport.htm, 
    they suggest using a target of RefWorksMain -- turns out due to 
    Refworks Javascript, this actually does matter and best to follow
    their example target name literally, or weird things happen. 
%>

<%= link_to document_action_label(document_action_config.key, document_action_config),
      document_action_path(document_action_config, (local_assigns.has_key?(:url_opts) ? url_opts : {}).merge(({id: document} if document) || {})),
      id: document_action_config.fetch(:id, "#{document_action_config.key}Link"),
      class: 'nav-link',
      target: 'RefWorksMain',
      data: {}.merge(({ blacklight_modal: "trigger" } if document_action_config.modal != false) || {}) %>